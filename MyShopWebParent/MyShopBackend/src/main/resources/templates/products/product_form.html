<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <head th:replace="fragments :: head(${pageTitle},'tag')"></head>
    <link rel="stylesheet" th:href="@{/css/richtext.min.css}">
    <script th:src="@{/js/jquery.richtext.min.js}"></script>
</head>
<body>
<div th:replace="navigation :: content('/products',false)"></div>

<div class="container mt-3 " style="max-width: 1000px">
    <form th:action="@{/templates/products/save}" th:object="${product}" method="post" class="form  form--xxl "
          enctype="multipart/form-data"
          onsubmit="return checkUniqueProduct(this)">
        <input type="hidden" th:field="*{id}">
        <div>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="overview-tab" data-bs-toggle="tab"
                            data-bs-target="#overview-tab-pane" type="button" role="tab"
                            aria-controls="overview-tab-pane" aria-selected="true">Overview
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="description-tab" data-bs-toggle="tab"
                            data-bs-target="#description-tab-pane" type="button" role="tab"
                            aria-controls="description-tab-pane" aria-selected="false">Description
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="images-tab" data-bs-toggle="tab" data-bs-target="#images-tab-pane"
                            type="button" role="tab" aria-controls="images-tab-pane" aria-selected="false">images
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="details-tab" data-bs-toggle="tab" data-bs-target="#details-tab-pane"
                            type="button" role="tab" aria-controls="details-tab-pane" aria-selected="false">detail
                    </button>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <h3 class="form-heading">[[${pageTitle}]]</h3>

                <div class="tab-pane fade show active" id="overview-tab-pane" role="tabpanel"
                     aria-labelledby="overview-tab" tabindex="0">
                    <div th:replace="products/overview_section::content"></div>
                </div>
                <div class="tab-pane fade" id="description-tab-pane" role="tabpanel" aria-labelledby="description-tab"
                     tabindex="0">
                    <div th:replace="products/description_section::content"></div>

                </div>
                <div class="tab-pane fade" id="images-tab-pane" role="tabpanel" aria-labelledby="images-tab"
                     tabindex="0">
                    <div th:replace="products/images_section::content"></div>

                </div>
                <div class="tab-pane fade" id="details-tab-pane" role="tabpanel" aria-labelledby="details-tab"
                     tabindex="0">
                    <div th:replace="products/details_section::content"></div>
                </div>
            </div>
        </div>
    </form>

</div>


<div th:replace="fragments :: modal_notify"></div>

<footer th:replace="fragments::footer"></footer>
<script th:src="@{/js/common_form.js}"></script>
<script th:src="@{/js/product_form.js}"></script>

<script>
    var contextPath = "[[@{/}]]";
    var currentLocation = "[[@{/products}]]";
    var csrfValue = "[[${_csrf.token}]]"

    var brandsDropdown = $('#brands-dropdown');
    var categoriesDropdown = $('#categories-dropdown');
    var defaultImageThumb = "[[@{/images/no-image.jpg}]]";
    var categoryIdEditMode = categoriesDropdown.attr("categoryIdEditMode");




</script>
</body>
</html>